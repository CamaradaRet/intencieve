Рассказать про Optional


Объект-контейнер, который может содержать или не содержать ненулевое значение. Если значение присутствует, isPresent() возвращает значение true. Если значение отсутствует, объект считается пустым, а Ispresent() возвращает значение false.
Предоставляются дополнительные методы, зависящие от наличия или отсутствия содержащегося значения, такие как OrElse() (возвращает значение по умолчанию, если значение отсутствует) и ifPresent() (выполняет действие, если значение присутствует).
Это класс, основанный на значениях; программисты должны рассматривать равные экземпляры как взаимозаменяемые и не должны использовать экземпляры для синхронизации, иначе может произойти непредсказуемое поведение. Например, в будущем выпуске может произойти сбой синхронизации.
Optional в первую очередь предназначен для использования в качестве типа возвращаемого значения метода, когда есть явная необходимость указывать "нет результата" и когда использование null может привести к ошибкам. Тип переменной phase, который является необязательным, сам по себе никогда не должен быть null; он всегда должен указывать на необязательный экземпляр.
Иногда программистам очень неудобно работать с ссылками на null. Например, вы сравниваете две строки. Если обе переменные не null, тогда можно просто вызвать s1.equals(s2), и все будет работать. А вот если s1 может быть null, придется писать код, который учитывает эту ситуацию, чтобы не возникло NullPointerException.
Поэтому программисты придумали служебный класс Optional<T>. 
Цель этого класса – просто хранить в себе объект T (ссылку на объект типа T). Ссылка на объект внутри класса Optional<T> может быть null.
Один объект Optional всегда можно сравнить с другим объектом Optional через метод equals, даже если они хранят в себе ссылки на null.

Служебный класс Optional<T>, выглядит его код примерно так:

      class Optional<Tип>
      {
         private final Tип value;
         private Optional() { this.value = null;}
         private Optional(value) { this.value = value;}
      
         public static <Tип> Optional<Tип> of(Tип value)
         {
            return new Optional<Tип>(value);
         }

// Проверяет, что внутри находится значение (ссылка не null).

      public boolean isPresent()
      {
         return value != null;
      }

// Проверяет, что объект хранит ссылку на null.

      public boolean isEmpty()
      {
         return value == null;
      }

// Возвращает значение, которое хранит. Кидает исключение, если значения нет.

      public Tип get()
      {
         if (value == null)
         {
            throw new NoSuchElementException();
         }
         return value;
      }




// Возвращает значение, или если внутри хранится null, то переданное в метод второе значение.

      public Tип orElse(Tип other)
      {
         return value != null ? value : other;
      }


// Возвращает значение или кидает исключение, если значения нет.

      public Tип orElseThrow()
      {
         if (value == null)
         {
            throw new NoSuchElementException();
         }
         return value;
      }
    }


Ресурсы:

https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Optional.html

   https://javarush.com/quests/lectures/questsyntaxpro.level18.lecture05

